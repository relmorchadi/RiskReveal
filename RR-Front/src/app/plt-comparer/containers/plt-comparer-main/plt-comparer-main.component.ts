import {Component, OnInit, TemplateRef} from '@angular/core';
import { NzDropdownContextComponent, NzDropdownService, NzMenuItemDirective } from 'ng-zorro-antd';
import {CdkDragDrop, moveItemInArray} from '@angular/cdk/drag-drop';


@Component({
  selector: 'app-plt-comparer-main',
  templateUrl: './plt-comparer-main.component.html',
  styleUrls: ['./plt-comparer-main.component.scss']
})
export class PltComparerMainComponent implements OnInit {
  switchValue = false;
  defaultImport;
  colorSwitcher = ['#A96EFE', '#06B8FF', '#F5A623', '#03DAC4', '#E3B8FF', '#0700CF', '#ADFEFA', '#1C607C'];
  isVisible = false;
  dropdown: NzDropdownContextComponent;


  cardContainer = [
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
    {
      title: '02PY276 - 2018',
      subtitle: 'P - 4019 - Pricing 2018',
      tableHeader: '[84339] EUET - BE - EUWS AMMA',
      selected: false,
      color: '',
      table: [
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['291,621,790', '291,621,790', '291,621,790', '291,621,790', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
        ['1,00', '1,00', '1,00', '1,00', '100%'],
      ],
      result: [
        ['323,849', '323,849', '323,849', '323,849'],
        ['5,806,767', '5,806,767', '5,806,767', '5,806,767'],
        ['17,83', '17,83', '17,83', '17,83']
      ]
    },
  ];


  constructor(private nzDropdownService: NzDropdownService) {
  }

  ngOnInit() {
    this.colorThePlt();
  }

  colorThePlt() {
    while (this.cardContainer.length > this.colorSwitcher.length) {
      this.colorSwitcher = this.colorSwitcher.concat(this.colorSwitcher);
      console.log(this.colorSwitcher);
    }
    for (let i = 0; i < this.cardContainer.length; i++) {
      this.cardContainer[i].color = this.colorSwitcher[i];

    }
  }
  showModal(): void {
    this.isVisible = true;
  }


  handleCancel(): void {
    this.isVisible = false;
  }

  contextMenu($event: MouseEvent, template: TemplateRef<void>): void {
    this.dropdown = this.nzDropdownService.create($event, template);
  }

  close(e: NzMenuItemDirective): void {
    console.log(e);
    this.dropdown.close();
  }
  drop(event: CdkDragDrop<string[]>) {
    moveItemInArray(this.cardContainer, event.previousIndex, event.currentIndex);
  }

}
