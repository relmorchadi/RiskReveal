<div class="plt-browser-wrapper">
  <div class="a-app-wrapper">
    <div class="a-app-header">
      <h4>PLT Manager</h4>
    </div>
    <div class="my-tabs">
      <app-plt-left-menu
        [tagsInput]="tagsInput"
        (actionDispatcher)="leftMenuActionDispatcher($event)"
      >
      </app-plt-left-menu>
      <div class="tabset-right" [ngStyle]="{ 'width': leftIsHidden ? 'calc(100vw - 212px - 80px - 174px + 130px)' : 'calc(100vw - 212px - 80px - 177px)'}">
        <div class="title-as-tab">
          <div class="div-title">
            <span class="title">PLTs</span>
            <div class="single-col-button">
              <button class="a-buttons-contained-micro" (click)="cloneFrom()">Clone from</button>
            </div>
          </div>


          <div class="right">
            <div *ngIf="!tableInputs['showDeleted'] && tableInputs['selectedListOfPlts']?.length" style="display: flex;align-items: center;">
              <p style="margin: 0 16px 0 0;">{{tableInputs['selectedListOfPlts']?.length + ( tableInputs['selectedListOfPlts']?.length  > 1 ?  ' PLTs are selected'  : ' PLT is selected')}}</p>
              <nz-dropdown [nzTrigger]="'click'" [nzPlacement]="'bottomRight'">
                <a style="max-height: 28px;display: flex;" nz-dropdown>
                  <i class="icon-menu_24px"></i>
                </a>
                <ul nz-menu style="font-size: 12px">
                  <li nz-menu-item (click)="deletePlt()">Delete</li>
                  <li nz-menu-item (click)="cloneTo()">Clone To</li>
                  <li nz-menu-item >Calibrate</li>
                </ul>
              </nz-dropdown>
            </div>
            <div *ngIf="tableInputs['showDeleted'] && tableInputs['selectedListOfDeletedPlts']?.length" style="display: flex;align-items: center;">
              <p style="margin: 0 16px 0 0;">{{tableInputs['selectedListOfDeletedPlts']?.length + ( tableInputs['selectedListOfDeletedPlts']?.length  > 1 ?  ' Deleted PLTs are selected'  : ' Deleted PLT is selected')}}</p>
              <nz-dropdown [nzTrigger]="'click'" [nzPlacement]="'bottomRight'">
                <a style="max-height: 28px;display: flex;" nz-dropdown>
                  <i class="icon-menu_24px"></i>
                </a>
                <ul nz-menu style="font-size: 12px">
                  <li nz-menu-item (click)="deletePlt()">Delete</li>
                  <li nz-menu-item (click)="cloneTo()">Clone To</li>
                  <li nz-menu-item >Calibrate</li>
                </ul>
              </nz-dropdown>
            </div>
            <nz-dropdown [nzTrigger]="'click'" [nzPlacement]="'bottomRight'" >
              <a style="max-height: 28px;display: flex;" nz-dropdown>
                <i class="icon-settings_24px"></i>
              </a>
              <ul nz-menu style="font-size: 12px">
                <li nz-menu-item (click)="resetSort()">Reset Sort</li>
                <li nz-menu-item (click)="resetFilters()">Reset Filters</li>
                <li nz-menu-item (click)="resetSort();resetFilters()">Reset Sort/Filters</li>

                <li nz-menu-divider></li>

                <li nz-menu-item (click)="toggleColumnsManager()" >Manage Columns</li>
                <li (click)="exportTable()" nz-menu-item>Export</li>

                <li nz-menu-divider></li>

                <li (click)="unselectAll()" nz-menu-item>Unselect All</li>

              </ul>
            </nz-dropdown>
          </div>

        </div>
        <div class="PLTs-content">
          <app-plt-main-table
            #dtt
            [tableInputs]="tableInputs"
            (actionDispatcher)="tableActionDispatcher($event)"
          ></app-plt-main-table>
        </div>
      </div>
    </div>
  </div>
</div>

<app-plt-right-menu
  (actionDispatcher)="rightMenuActionDispatcher($event)"
  [Inputs]="rightMenuInputs"
></app-plt-right-menu>

<app-manage-columns [visible]="managePopUp" [columns]="tableInputs.pltColumns" (onSubmit)="saveColumns($event)" (onCancel)="resetColumns()"></app-manage-columns>

