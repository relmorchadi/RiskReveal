<app-left-menu></app-left-menu>
<div style="position: relative; flex: 1">
  <nz-layout class="layoutCalibration">
    <div nz-row>
      <div class="calibration" nz-col nzSpan="23" style="margin-left: 4px;width: 95%;">
        <div nz-row>
          <div nz-col nzSpan="24">&nbsp;</div>
        </div>
        <div nz-row>
          <div nz-col nzSpan="24">&nbsp;</div>
        </div>
        <div nz-row>
          <div class="textCalibrationMatrix" nz-col nzSpan="6">Calibration Editor</div>
          <div class="textCalibrationMatrix" nz-col nzSpan="2">&nbsp;</div>
        </div>
        <div nz-row>
          <app-tags (notify)="onNotify($event)"></app-tags>
          <div [nzSpan]="pltSpan" nz-col>
            <div
              style="padding-top: 39px; padding-left: 24px; background: #fff; min-height:571px;width: 98%;  box-shadow: 0px 1px 20px 0px #dcdada; ">
              <div nz-row>
                <div nz-col nzSpan="24" style="">
                  <hr
                    style="height:5px;background-color: #0700CF;margin-top: -40px;margin-left: -24px;">
                </div>
              </div>
              <div nz-row>
                <div class="textLastAdjustement" nz-col nzSpan="22">
                  PLT Selection
                </div>
                <div nz-col nzSpan="2" style="margin-top: -14px;">
                  <nz-dropdown [nzPlacement]="'bottomLeft'">
                    <i class="icon-menu_24px" nz-dropdown style="font-size: 25px;"></i>
                    <ul nz-menu>
                      <li nz-menu-item>
                        <a (click)="exetende()">
                          <b *ngIf="extended">Collapse PLT Selection</b>
                          <b *ngIf="!extended">Extend PLT Selection</b>
                        </a>
                      </li>
                    </ul>
                  </nz-dropdown>
                </div>
              </div>
              <div nz-row>
                <div nz-col nzSpan="24">
                  <hr style="margin: 0px">
                </div>
              </div>
              <!-- Table de PLT Selection -->
              <div class="tablePlt" nz-row>
                <div scroller topic="rr-table" (mouseover)="cursorOntable1()" nz-col nzSpan="24"
                     style="overflow-y: auto;overflow-x: auto;max-width:900px;max-height: 414px">
                  <!--- List With Tree --->
                  <nz-table #fixedTable1 *ngIf="tree" [nzData]="pure.dataTable"
                            [nzShowPagination]="false">
                    <tbody *ngFor="let data of fixedTable1.data; let pureIndex = index">
                    <tr>
                      <td style="width: 50px;color: #0700CF">
                        <i (click)="open()" [ngClass]="eyeVisible()" style="margin-right: 10px;font-size: 18px"></i>
                        <i (click)="hide(data.name)" class="icon-cube"
                           style="background: #0700cf;color: white;font-size: 16px;"></i>
                      </td>
                      <td>
                        <b> {{ data.name }}</b>
                      </td>
                      <td>
                      </td>
                      <td>
                        <i class="icon-menu_24px" nz-dropdown style="font-size: 20px"></i>
                      </td>
                    </tr>
                    <ng-container *ngIf="returnHideThread(data.name)">
                      <ng-container *ngFor="let dataT of data.thread; let threadIndex = index">
                        <tr (click)="changeBackgroud(dataT)"
                            [ngStyle]="{'background':setBackgroud(dataT.checked)}">
                          <td>&nbsp;</td>
                          <td>{{ dataT.threadName }}</td>
                          <td><i [class]="dataT.icon" style="font-size: 20px"></i></td>
                          <td>
                            <nz-dropdown [nzPlacement]="'bottomLeft'">
                              <i class="icon-menu_24px" nz-dropdown style="font-size: 20px"></i>
                              <ul nz-menu>
                                <li nz-menu-item>
                                  <a
                                    (click)="cloneThread(data.thread.length,dataT, pureIndex, threadIndex)">Clone</a>
                                </li>
                                <li nz-menu-item>
                                  <a
                                    (click)="deleteThread(data.thread.length,dataT, pureIndex, threadIndex)">Delete</a>
                                </li>
                                <li nz-menu-item>
                                  <a>Copy</a>
                                </li>
                              </ul>
                            </nz-dropdown>
                          </td>
                        </tr>
                      </ng-container>
                    </ng-container>
                    </tbody>
                  </nz-table>
                  <!--- List Without Tree --->
                  <nz-table #fixedTable *ngIf="!tree" [nzData]="pure.dataTable"
                            [nzShowPagination]="false">
                    <thead (nzSortChange)="sort($event)" nzSingleSort>
                    <tr style="height: 66px ">
                      <ng-container *ngFor="let col of pltColumns">
                        <th [nzShowSort]="col.sorted"
                            [nzSortKey]="col.fields" [nzWidth]="col.width"
                            style="position: sticky;top: 0;z-index: 1000;" *ngIf="col.extended">
                          {{col.header}}
                          <div *ngIf="col.filtred" class="filter-input">
                            <i class="icon-search"></i>
                            <input type="text">
                          </div>
                          <i *ngIf="col.icon" [ngClass]="col.icon"></i>
                          <label (nzCheckedChange)="selectAllBool?selectAllThread(true):selectAllThread(false)"
                                 *ngIf="col.fields=='check'"
                                 [nzChecked]="checkedAll"
                                 [nzIndeterminate]="indereterminate"
                                 nz-checkbox>
                          </label>
                        </th>
                      </ng-container>
                    </tr>
                    </thead>
                    <tbody style="font-size: 11px;">
                    <ng-container *ngFor="let data of fixedTable.data;let pureIndex=index">
                      <ng-container *ngFor="let dataTable1 of data.thread;let threadIndex=index">
                        <tr
                          *ngIf="haveTagSystem(dataTable1)"
                          [ngStyle]="{'background':setBackgroud(dataTable1.checked)}">
                          <td class="checkboxInput">

                            <label (nzCheckedChange)="changeBackgroundCheckBox($event,dataTable1)"
                                   [nzChecked]="dataTable1.checked"
                                   nz-checkbox
                                   style="margin-right: 12px;">
                            </label>
                          </td>
                          <td>
                            <ng-container *ngFor="let tag of dataTable1.userTags">
                              <span [ngStyle]="{background:getColorTag(tag)}" class="userTagStyle"></span>
                            </ng-container>
                          </td>
                          <td (click)="changeBackgroud($event,dataTable1)">{{ dataTable1.id }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)">{{ dataTable1.threadName }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.peril }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)"
                              *ngIf="extended">{{ dataTable1.regionPerilCode }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)"
                              *ngIf="extended">{{ dataTable1.regionPerilName }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.grain }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)"
                              *ngIf="extended">{{ dataTable1.vendorSystem }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.rap }}</td>
                          <td><i [class]="dataTable1.icon" style="font-size: 20px"></i></td>
                          <td><i class="icon-plus-circle" nz-dropdown
                                 style="font-size: 20px;color: #000; cursor: pointer"
                                 (click)="clickButtonPlus(false,dataTable1)"></i>
                          </td>
                        </tr>
                      </ng-container>
                    </ng-container>
                    </tbody>
                  </nz-table>
                </div>
              </div>
              <div nz-row style="margin: 25px">
                <div nz-col nzSpan="10">
                  &nbsp;
                </div>
                <div nz-col nzSpan="7" style="color: #0700CF; font-size: 14px ;">
                  <button class="ant-btn ant-btn-default"
                          style="background-color: #ffffff !important; color: #0b2ccf;  margin-right: 20px; border: none;font-weight: 600; ">
                    Publish
                  </button>

                </div>
                <div nz-col nzSpan="7" style="color: #0700CF;  font-size: 14px">
                  <button class="ant-btn ant-btn-default"
                          style="background-color: #ffffff !important; color: #0b2ccf;  margin-right: 20px; border: none;font-weight: 600;">
                    Add PLTS
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div nz-col [nzSpan]="templateSpan">
            <div class="test"
                 style=" background: #fff; min-height:570px; min-width: 350px; box-shadow: 0px 1px 20px 0px #dcdada; margin-left: -4px">
              <div nz-row>
                <div class="card1" nz-col nzSpan="26">
                  <hr style="background:#0700CF ;    padding: 0; background: #0700CF; margin: 0; height: 5px;">
                </div>
              </div>
              <div nz-row style=" display: flex;">
                <div class="card1" nz-col nzSpan="5"
                     style="flex:auto;font-weight: 600;font-size: 20px;margin: 21px 2px 27px 7px; color: black;width: 130px;">
                  Template <i class="icon-plus-circle" nz-dropdown
                              style="font-size: 20px;color: #000; cursor: pointer" (click)="clickButtonPlus(true)"></i>
                </div>
                <div class="card1" nz-col nzSpan="13"
                     style="margin-top: 18px; margin-left: -8px;display: flex;overflow: auto; max-width: 100%;margin-top: 18px; margin-left: -8px;">
                  <ng-container *ngFor="let adj of adjsArray;let adjIndex=index">
                    <div class="dashbordAdj">
                      <span style="height: 30px;margin: 0px 2px 0px 2px;">{{adj.name}}</span>
                      <nz-dropdown [nzPlacement]="'bottomLeft'">
                        <i class="icon-menu_24px" nz-dropdown style="font-size: 18px;float: right;"></i>
                        <ul nz-menu>
                          <li nz-menu-item>
                            <a (click)="addAdjustmenet(adj)">Apply to Selected</a>
                          </li>
                          <li nz-menu-item>
                            <a (click)="applyToAll(adj)"
                            >Apply to All</a>
                          </li>
                          <li nz-menu-item>
                            <a (click)="applyToSelectedPlt(adj,adj.value)">Replace Selected</a>
                          </li>
                          <li nz-menu-item>
                            <a (click)="applyToAllAdjustement(adj,adj.value)"
                            >Replace All</a>
                          </li>
                        </ul>
                      </nz-dropdown>
                      <input (change)="onChangeAdjValue(adj,$event)" [disabled]="adj.linear" [value]="adj.value"
                             class="inputOfdachboard"
                             style="height: 17px;">
                    </div>
                  </ng-container>
                </div>
                <div class="card1" nz-col nzSpan="5" style="flex:auto;margin-left: -21px;">
                  <i class="icon-menu_24px"
                     style="font-size: 25px;float: right;margin-top:29px; margin-right: 10px;"></i>
                </div>
              </div>
              <div nz-row>
                <div class="card1" nz-col nzSpan="26">
                  <!-- Table de Template 1   -->
                  <div nz-row>
                    <div nz-col nzSpan="24">
                      <div scroller topic="rr-table" (mouseover)="cursorOntable2()" nz-row
                           style="margin-top: 5px;overflow-y: auto;max-height: 415px;min-height:415px;width: 100%;">
                        <nz-table #rightTable #te [nzData]="pure.dataTable"
                                  [nzPaginationPosition]="false" class="fixedHeadder">
                          <thead class="header-text">
                          <tr style="height: 66px !important;">
                            <th style="border-right: 1px solid rgb(232, 232, 232);width: 15%"><b
                              style="margin-left:10px !important;">Overall LMF</b></th>
                            <ng-container *ngFor="let category of pure.category;trackBy: trackByFn">
                              <th *ngIf="category.showBol" [colSpan]="category.basis.length"
                                  [ngStyle]="{background:InuringBack(category.name) }"
                                  [style.width]="category.width"
                                  style="border-right: 1px solid rgb(232, 232, 232);"><b
                                style="margin-left:10px !important;">{{category.name}}</b>
                              </th>
                            </ng-container>
                          </tr>
                          </thead>
                          <tbody style="overflow-x:auto;max-width: 825px; min-width: 825px;">
                          <ng-container *ngFor="let data of pure.dataTable;let pureIndex=index">
                            <tr *ngIf="tree" style="height: 50px !important;">
                              <td colspan="4" style="background: #fafafa"></td>
                            </tr>
                            <ng-container *ngFor="let dataTable1 of data.thread;let threadIndex=index">
                              <tr (click)="changeBackgroud($event,dataTable1)"
                                  *ngIf="haveTagSystem(dataTable1) "
                                  [ngStyle]="{'background':setBackgroud(dataTable1.checked)}">
                                <td style="background: rgb(250, 250, 250)">

                                </td>
                                <td (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                    dndDropzone
                                    dndEffectAllowed="move"
                                    id="Base">
                                  <div class="dndPlaceholder" dndPlaceholderRef></div>
                                  <div (dndDrop)="onDropDiv($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                       dndDropzone dndEffectAllowed="move"
                                       id="Base1" style="display: flex;height: max-content;margin-left: 10px">
                                    <div class="dndPlaceholder" dndPlaceholderRef></div>
                                    <ng-container *ngFor="let adj of dataTable1.adj;let adjindex=index">
                                      <div (dndCanceled)="onDragged($event,adj, dataTable1.adj, 'none','cancled')"
                                           (dndEnd)="onDragEnd($event)"
                                           (dndMoved)="onDragged($event,adj, dataTable1.adj, 'move','td1')"
                                           (dndStart)="onDragStart($event)" (mouseout)="hideIcon(adj)"
                                           (mouseover)="adj.hover='true'"
                                           *ngIf="adj.category=='Base'"
                                           [dndDisableIf]="dataTable1.locked"
                                           [dndDraggable]="adj"
                                           class="divInTd"
                                           dndEffectAllowed="move">
                                        <span class="spanStyle">{{adj.name}}</span>
                                        <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                          <i [hidden]="!adj.hover" class="icon-menu_24px"
                                             nz-dropdown style="font-size: 18px;float: right"></i>
                                          <ul nz-menu>
                                            <li nz-menu-item>
                                              <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                            </li>
                                            <li nz-menu-item>
                                              <a
                                                (click)="deleAdjustment(pureIndex,threadIndex,adjindex,adj)">Delete</a>
                                            </li>
                                            <li nz-menu-item>
                                              <a>Copy</a>
                                            </li>
                                          </ul>
                                        </nz-dropdown>
                                        <input [disabled]="adj.linear" [value]="adj.value" class="inputOfdachboard"
                                               (change)="changeValue(adj,$event)">
                                      </div>
                                    </ng-container>
                                  </div>
                                </td>
                                <td style="background: rgb(250, 250, 250)">
                                  <div style="display: flex;height: max-content">
                                    <div
                                      class="divInTd" style=" background: #f3f3f3;">
                                          <span
                                            class="spanStyle">Model Calib</span>
                                      <input class="inputOfdachboard" disabled
                                             style=" background: #f3f3f3;" value="2.1">
                                    </div>
                                  </div>
                                </td>
                                <td (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                    dndDropzone
                                    dndEffectAllowed="move"
                                    id="Client">
                                  <div class="dndPlaceholder" dndPlaceholderRef></div>
                                  <div (dndDrop)="onDropDiv($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                       dndDropzone
                                       dndEffectAllowed="move" id="Client1"
                                       style="display: flex;height: max-content;margin-left: 10px">
                                    <div class="dndPlaceholder" dndPlaceholderRef></div>
                                    <ng-container *ngFor="let adj of dataTable1.adj ;let adjindex=index">
                                      <ng-container *ngIf="adj.category=='Client'">
                                        <div (dndCanceled)="onDragged($event,adj, dataTable1.adj, 'none','cancled')"
                                             (dndMoved)="onDragged($event,adj,dataTable1.adj, 'move','td2')"
                                             (mouseout)="hideIcon(adj)"
                                             (mouseover)="adj.hover='true'"
                                             [dndDisableIf]="dataTable1.locked"
                                             [dndDraggable]="adj"
                                             class="divInTd"
                                             dndEffectAllowed="move">
                                              <span
                                                class="spanStyle">{{adj.name}}</span>
                                          <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                            <i [hidden]="!adj.hover" class="icon-menu_24px"
                                               nz-dropdown style="font-size: 18px;float: right"></i>
                                            <ul nz-menu>
                                              <li nz-menu-item>
                                                <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a
                                                  (click)="deleAdjustment(pureIndex,threadIndex,adjindex,adj)">Delete</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a>Copy</a>
                                              </li>
                                            </ul>
                                          </nz-dropdown>
                                          <input [disabled]="adj.linear" [value]="adj.value"
                                                 class="inputOfdachboard" (change)="changeValue(adj,$event)">
                                        </div>
                                      </ng-container>
                                    </ng-container>
                                  </div>
                                </td>
                                <td style="background: antiquewhite">
                                  <div style="display: flex;height: max-content">
                                    <div
                                      class="divInTd">
                                      <span class="spanStyle"></span>
                                      <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                        <i [id]="threadIndex" class="icon-menu_24px" nz-dropdown
                                           style="font-size: 18px;float: right"></i>
                                        <ul nz-menu>
                                          <li nz-menu-item>
                                            <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                          </li>
                                          <li nz-menu-item>
                                            <a
                                            >Delete</a>
                                          </li>
                                          <li nz-menu-item>
                                            <a>Copy</a>
                                          </li>
                                        </ul>
                                      </nz-dropdown>
                                      <input class="inputOfdachboard" disabled
                                             value="P00002">
                                    </div>
                                  </div>
                                </td>
                                <td (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                    dndDropzone
                                    dndEffectAllowed="move"
                                    id="poin">
                                  <div (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                       dndDropzone
                                       dndEffectAllowed="move" id="poin1"
                                       style="display: flex;height: max-content;margin-left: 10px">
                                    <div class="dndPlaceholder" dndPlaceholderRef id="dndPlaceholder"></div>
                                    <ng-container *ngFor="let adj of dataTable1.adj ;let adjindex=index">
                                      <ng-container *ngIf="adj.category=='poin'">
                                        <div (dndCanceled)="onDragged($event,adj, dataTable1.adj, 'none','cancled')"
                                             (dndMoved)="onDragged($event,adj,dataTable1.adj, 'move','td2')"
                                             (mouseout)="hideIcon(adj)"
                                             (mouseover)="adj.hover='true'"
                                             [dndDisableIf]="dataTable1.locked"
                                             [dndDraggable]="adj"
                                             class="divInTd"
                                             dndEffectAllowed="move">
                                              <span
                                                class="spanStyle">{{adj.name}}</span>
                                          <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                            <i [hidden]="!adj.hover" class="icon-menu_24px"
                                               nz-dropdown style="font-size: 18px;float: right"></i>
                                            <ul nz-menu>
                                              <li nz-menu-item>
                                                <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a
                                                  (click)="deleAdjustment(pureIndex,threadIndex,adjindex,adj)">Delete</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a>Copy</a>
                                              </li>
                                            </ul>
                                          </nz-dropdown>
                                          <input [disabled]="adj.linear" [value]="adj.value"
                                                 class="inputOfdachboard" (change)="changeValue(adj,$event)"
                                          >
                                        </div>
                                      </ng-container>
                                    </ng-container>
                                  </div>
                                </td>
                              </tr>
                            </ng-container>
                          </ng-container>
                          </tbody>
                        </nz-table>
                      </div>
                    </div>
                  </div>
                  <!-- Button of Table de Template 1 -->
                  <div nz-row style="margin: 28px 12px 13px 26px;">
                    <div nz-col nzSpan="24">
                      <button class="ant-btn ant-btn-default"
                              style="background-color: #ffffff !important;color: #070acf;border-color:#070acf;margin-right: 20px; width: 100px;height: 30px; ">
                        Export
                      </button>
                      <button class="ant-btn ant-btn-default"
                              style="background-color: #ffffff !important;color: #0b2ccf;border-color:#070acf;margin-right: 20px;width: 100px;height: 30px; ">
                        Save As
                      </button>
                      <button class="ant-btn ant-btn-default" style="width: 100px;height: 30px; ">APPLY</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <app-last-adjustment-matrix></app-last-adjustment-matrix>
      </div>
      <div nz-col nzSpan="1">
        <div class="right-column">
          <div class="navigation-icons pt-5" style="min-height: 100px">
            <i class="icon-map-pin-alt" id="alt"></i>
            <i (click)="open()" class="icon-arrow_back_ios_24px mt-2"></i>
          </div>
        </div>
      </div>
    </div>
  </nz-layout>
  <nz-drawer
    (nzOnClose)="close()"
    [nzClosable]="false"
    [nzHeight]=1000
    [nzVisible]="visible"
    [nzWidth]=650
    [nzZIndex]=1100
    nzPlacement="right">
    <div>
      <div class="navigation-icons-drawer"
           style="display: flex; flex-direction: column; justify-content: space-between; align-items: flex-end;">
        <i (click)="close()" class="icon-arrow_forward_ios_24px mt-2"
           style="padding: 5px;border-radius: 25px;border: 2px solid #F5F5F5;color: #9C99EC;font-size: 24px;cursor: pointer;"></i>
      </div>
      <nz-tabset class="tabset-drawer">
        <nz-tab nzTitle="Basket">
          <div class="basket-content"></div>
        </nz-tab>
        <nz-tab nzTitle="Calibration Detaills">
          <div class="plt-details-content">
            <nz-tabset class="tabset-plt-details">
              <nz-tab nzTitle="Summary">
                <div class="summary-content"></div>
              </nz-tab>
              <nz-tab nzTitle="EP Metrics">
                <div class="ep-metrics-content"></div>
              </nz-tab>
              <nz-tab nzTitle="Other Metrics">
                <div class="other-metrics-content"></div>
              </nz-tab>
              <nz-tab nzTitle="Calibration">
                <div class="calibration-content">
                  <nz-tabset>
                    <nz-tab nzTitle="Thread">
                      <div class="thread-content"></div>
                    </nz-tab>
                    <nz-tab nzTitle="Impact">
                      <div class="impact-content"></div>
                    </nz-tab>
                  </nz-tabset>
                </div>
              </nz-tab>
              <nz-tab nzTitle="Lineage">
                <div class="lineage-content">
                  <nz-tab>
                    <nz-tab nzTitle="Dependencies">
                      <div class="dependencies-content"></div>
                    </nz-tab>
                    <nz-tab nzTitle="Usage">
                      <div class="usage-content"></div>
                    </nz-tab>
                  </nz-tab>
                </div>
              </nz-tab>
              <nz-tab nzTitle="Impact to layer">
                <div class="impact-to-layer-content"></div>
              </nz-tab>
            </nz-tabset>
          </div>
        </nz-tab>
      </nz-tabset>
    </div>
  </nz-drawer>
  <!-- Model add Column-->
  <nz-modal [(nzVisible)]="isVisible" [nzFooter]="modalFooter" class="modelAdjustment"
            (nzOnCancel)="handleCancel()"
            nzTitle="Add New Adjustment">
    <div nz-row>
      <div nz-col nzSpan="24">
        &nbsp;
      </div>
    </div>
    <div nz-row>
      <div class="modal-left-item" nz-col nzSpan="8" style="margin-top: 10px">
        <b>Adjustment Basis</b>
      </div>
      <div nz-col nzSpan="16">
        <!-- (ngModelChange)="selectCategory(categorySelectedFromBasis)"-->
        <nz-select [(ngModel)]="categorySelectedFromAdjustement"
                   (ngModelChange)="selectCategory(categorySelectedFromAdjustement)"
                   [nzPlaceHolder]="'Select Adjustment'"
                   [nzSize]="size" style="width: 260px;">
          <ng-container *ngFor="let option of allAdjsArray">
            <nz-option *ngIf="option.name!='Default'" [nzLabel]="option.name"
                       [nzValue]="option"></nz-option>
          </ng-container>
        </nz-select>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="24">
        &nbsp;
      </div>
    </div>
    <div nz-row>
      <div class="modal-left-item" nz-col nzSpan="8">
        <b>Adjustment Category</b>
      </div>
      <div nz-col nzSpan="16" style="line-height: 2.2rem;">
        <!-- (ngModelChange)="selectCategory(categorySelectedFromBasis)"-->
        <b style="margin-left: 10px;">{{categorySelected}}</b>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="24">
        &nbsp;
      </div>
    </div>
    <div nz-row>
      <div class="modal-left-item" nz-col nzSpan="8" style="margin-top: 10px">
        <b>Adjustment Narrative</b>
      </div>
      <div nz-col nzSpan="16">
        <textarea style="margin-left: 10px; width: 95%" rows="4" nz-input [(ngModel)]="inputValue"></textarea>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="24">
        &nbsp;
      </div>
    </div>
    <div nz-row>
      <div class="modal-left-item" nz-col nzSpan="8" style="margin-top: 10px">
        <b>Adjustment Type</b>
      </div>
      <div nz-col nzSpan="16">
        <nz-select [(ngModel)]="singleValue" (ngModelChange)="selectBasis(singleValue)"
                   [nzPlaceHolder]="'choose Type'"
                   [nzSize]="size" style="width: 260px;">
          <nz-option *ngFor="let option of AdjustementType" [nzLabel]="option.name" [nzValue]="option"></nz-option>
        </nz-select>
      </div>
    </div>
    <div nz-row style="margin-top: 20px;">
      <div class="modal-left-item" nz-col nzSpan="8" style="margin: 5px;">
        Capped
      </div>
      <div nzSpan="16" style="line-height: 2.2rem;">
        <nz-switch [(ngModel)]="disabled" nzSize="small" style="margin-left: 15px;"></nz-switch>
      </div>
    </div>

    <ng-container *ngIf="linear">
      <div nz-row>
        <div nz-col nzSpan="24" style="margin: 5px;">
          <hr>
        </div>
      </div>
      <div nz-row>
        <div nz-col nzSpan="24" style="margin: 5px;">
          <b>Adjustment Parameter</b>
        </div>
      </div>
      <div nz-row>
        <div nz-col nzSpan="2">
          &nbsp;
        </div>
        <div nz-col nzSpan="11">
          Loss Modification Factor (LMF)
        </div>
        <div nz-col nzSpan="9">
          <input
            #inputElement
            [(ngModel)]="columnPosition"
            nz-input
            nz-tooltip
            style="width: 200px;
        height: 40px;
        background: #f9f9f9;
        border-radius: 0;
        border:0;
        border-bottom: 1px solid black;
        color:#0700CF"
          />
        </div>
      </div>
    </ng-container>
    <ng-template #modalFooter>
      <button (click)="handleCancel()"
              class="ant-btn"
              style="color: rgba(82,89,95,0.68); margin-right: 20px; border: none; width: 100px;height: 30px; "> CANCEL
      </button>
      <button (click)="addAdjustmentFromPlusIcon(false,singleValue,categorySelectedFromAdjustement)"
              class="ant-btn ant-btn-default"
              style="background-color: #ffffff !important; color: #0b2ccf;border-color:#070acf;margin-right: 20px;width: 70px;height: 30px; ">
        ADD
      </button>
      <button (click)="addAdjustmentFromPlusIcon(true,singleValue,categorySelectedFromAdjustement)"
              class="ant-btn ant-btn-default"
              style="width: 130px; height: 30px; ">ADD & CLOSE
      </button>
    </ng-template>
  </nz-modal>
</div>

