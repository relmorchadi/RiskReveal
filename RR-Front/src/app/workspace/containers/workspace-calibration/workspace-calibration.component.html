<app-left-menu></app-left-menu>
<div style="position: relative; flex: 1">
  <nz-layout class="layoutCalibration">
    <div nz-row>
      <div class="calibration" nz-col nzSpan="23" style="margin-left: 4px;width: 95%;">
        <div nz-row>
          <div nz-col nzSpan="24">&nbsp;</div>
        </div>
        <div nz-row>
          <div nz-col nzSpan="24">&nbsp;</div>
        </div>
        <div nz-row>
          <div class="textCalibrationMatrix" nz-col nzSpan="6">Calibration Editor</div>
          <div class="textCalibrationMatrix" nz-col nzSpan="2">&nbsp;</div>
        </div>

        <div nz-row>
          <div *ngIf="ColpasBool" nz-col nzSpan="3">
            <div
              style="padding-top: 39px; padding-left: 9px; background: #fff; min-height:571px;width: 98%;  box-shadow: 0px 1px 20px 0px #dcdada; ">
              <hr style="height:5px;background-color: #0700CF;margin-top: -40px;margin-left: -10px;">
              <div (click)="Colpa()" class="textLastAdjustement" style="margin-top: 20px;">Tags</div>
              <div class="Tags-content">
                <div class="button-reset-filter-by-tag" nz-row>
                  <button (click)="resetFilterByTags()" nz-button nzShape="circle" nzType="default"
                          style=" float: right; border: 0px solid;">
                    <i nz-icon nzTheme="outline" nzType="undo"></i></button>
                </div>
                <div class="tags-title-section" nz-row style="margin-top: -20px;">System Tags</div>
                <div *ngFor="let tag of systemTags" class="ml-3 mt-1" nz-row>
                    <span (click)="currentSystemTag = tag" [ngClass]="{'active-tag': tag === currentSystemTag}"
                          [ngStyle]="{'background-color': tag.tagColor}" class="chips">
                      {{tag.tagName}}
                      <span [ngStyle]="{'background-color': tag.innerTagColor}"
                            class="inner-chip">{{tag.innerTagContent}}</span>
                    </span>
                </div>

                <div class="tags-title-section" nz-row>User tags<i class="icon-plus-circle"
                                                                   style="margin-top: 14px; margin-left: 5px;"></i>
                </div>
                <div *ngFor="let tag of userTags" class="ml-3 mt-1" nz-row>
                    <span (click)="currentUserTag = tag" [ngClass]="{'active-tag': tag === currentUserTag}"
                          [ngStyle]="{'background-color': tag.tagColor}" class="chips">
                      {{tag.tagName}}
                      <span [ngStyle]="{'background-color': tag.innerTagColor}"
                            class="inner-chip">{{tag.innerTagContent}}</span>
                    </span>
                </div>
              </div>
            </div>
          </div>
          <div [nzSpan]="pltSpan" nz-col>
            <div
              style="padding-top: 39px; padding-left: 24px; background: #fff; min-height:571px;width: 98%;  box-shadow: 0px 1px 20px 0px #dcdada; ">
              <div nz-row>
                <div nz-col nzSpan="24" style="">
                  <hr
                    style="height:5px;background-color: #0700CF;margin-top: -40px;margin-left: -24px;">
                </div>
              </div>
              <div nz-row>
                <div class="textLastAdjustement" nz-col nzSpan="22">
                  <i (click)="Colpa()" *ngIf="!ColpasBool" nz-icon nzTheme="outline" nzType="right-circle" style="position: relative;
    top: -4px; cursor: pointer"></i>
                  <i (click)="Colpa()" *ngIf="ColpasBool" nz-icon nzTheme="outline" nzType="left-circle"  style="position: relative;
    top: -4px;cursor: pointer"></i>
                  PLT Selection
                </div>
                <div nz-col nzSpan="2" style="margin-top: -14px;">
                  <nz-dropdown [nzPlacement]="'bottomLeft'">
                    <i class="icon-menu_24px" nz-dropdown style="font-size: 25px;"></i>
                    <ul nz-menu>
                      <li nz-menu-item>
                        <a (click)="exetende()" >
                          <b *ngIf="extended">Extended PLT Selection</b>
                          <b *ngIf="!extended">collapsed PLT Selection</b>
                        </a>
                      </li>
                     <!-- <li nz-menu-item>
                        <a (click)="addAdjustmenet(adj)">Apply to selected</a>
                      </li>
                      <li nz-menu-item>
                        <a (click)="applyToSelectedPlt(adj,adj.value)">Replace selected</a>
                      </li>
                      <li nz-menu-item>
                        <a (click)="applyToAllAdjustement(adj,adj.value)"
                        >Replace to All</a>
                      </li>-->
                    </ul>
                  </nz-dropdown>
                </div>
              </div>
              <!--<div nz-row>
                <div nz-col nzSpan="2" style="position:relative; top:8px; font-size: 13px;color: #0700CF">
                  <a>
                    <label (nzCheckedChange)="selectAllBool?selectAllThread(true):selectAllThread(false)"
                           [nzIndeterminate]="indeterminate()"
                           nz-checkbox>
                    </label>
                  </a>
                </div>
                <div nz-col nzSpan="2" style="font-size: 18px;color: #0700CF">
                  <i (click)="afficheTree()" nz-icon nzTheme="outline" nzType="menu-unfold"></i>
                </div>
                <div nz-col nzSpan="2" style="font-size: 18px;color: #0700CF">
                  <i (click)="CloseTree()" nz-icon nzTheme="outline" nzType="database"></i>
                </div>
                <div nz-col nzSpan="2" style="padding-top: 2px">
                  <i class="icon-arrows-right-down" style="font-size: 25px;color: #0700CF"></i>
                </div>
              </div>-->
              <!-- <div class="table-Header" nz-row>
                 <div nz-col nzSpan="2">
                   <label (nzCheckedChange)="selectAllBool?selectAllThread(true):selectAllThread(false)"
                          [nzIndeterminate]="indeterminate()"
                          nz-checkbox>
                   </label>
                 </div>
                 <div nz-col nzSpan="3">
                   <label> User Tags
                   </label>
                 </div>
                 <div nz-col nzSpan="4">
                   <label> Plt ID
                   </label>
                 </div>
                 <div nz-col nzSpan="4">
                   <label> Plt Name
                   </label>
                 </div>
               </div>-->
              <div nz-row>
                <div nz-col nzSpan="24">
                  <hr style="margin: 0px">
                </div>
              </div>
              <!-- Table de PLT Selection -->
              <div class="tablePlt" nz-row>
                <div #scrollTwo (mouseover)="cursorOntable1()" nz-col nzSpan="24"
                     style="overflow-y: auto;overflow-x: auto;max-width:900px;max-height: 414px">
                  <!--- List With Tree --->
                  <nz-table #fixedTable1 *ngIf="tree" [nzData]="pure.dataTable"
                            [nzShowPagination]="false">
                    <tbody *ngFor="let data of fixedTable1.data; let pureIndex = index">
                    <tr>
                      <td style="width: 50px;color: #0700CF">
                        <i (click)="open()" [ngClass]="eyeVisible()" style="margin-right: 10px;font-size: 18px"></i>
                        <i (click)="hide(data.name)" class="icon-cube"
                           style="background: #0700cf;color: white;font-size: 16px;"></i>
                      </td>
                      <td>
                        <b> {{ data.name }}</b>
                      </td>
                      <td>

                      </td>
                      <td>

                        <i class="icon-menu_24px" nz-dropdown style="font-size: 20px"></i>
                      </td>
                    </tr>
                    <ng-container *ngIf="returnHideThread(data.name)">
                      <ng-container *ngFor="let dataT of data.thread; let threadIndex = index">
                        <tr (click)="changeBackgroud(dataT)"
                            [ngStyle]="{'background':setBackgroud(dataT.checked)}">
                          <td>&nbsp;</td>
                          <td>{{ dataT.threadName }}</td>
                          <td><i [class]="dataT.icon" style="font-size: 20px"></i></td>
                          <td>
                            <nz-dropdown [nzPlacement]="'bottomLeft'">
                              <i class="icon-menu_24px" nz-dropdown style="font-size: 20px"></i>
                              <ul nz-menu>
                                <li nz-menu-item>
                                  <a
                                    (click)="cloneThread(data.thread.length,dataT, pureIndex, threadIndex)">Clone</a>
                                </li>
                                <li nz-menu-item>
                                  <a
                                    (click)="deleteThread(data.thread.length,dataT, pureIndex, threadIndex)">Delete</a>
                                </li>
                                <li nz-menu-item>
                                  <a>Copy</a>
                                </li>
                              </ul>
                            </nz-dropdown>
                          </td>
                        </tr>
                      </ng-container>
                    </ng-container>
                    </tbody>
                  </nz-table>
                  <!--- List Without Tree --->
                  <nz-table #fixedTable *ngIf="!tree" [nzData]="pure.dataTable"
                            [nzShowPagination]="false">
                    <thead (nzSortChange)="sort($event)" nzSingleSort>
                    <tr style="height: 66px ">
                      <ng-container *ngFor="let col of pltColumns" >
                        <th [nzShowSort]="col.sorted"
                            [nzSortKey]="col.fields" [nzWidth]="col.width"
                            style="position: sticky;top: 0;z-index: 1000;" *ngIf="col.extended" >
                          {{col.header}}
                          <div *ngIf="col.filtred" class="filter-input">
                            <i class="icon-search"></i>
                            <input type="text">
                          </div>
                          <i *ngIf="col.icon" [ngClass]="col.icon"></i>
                          <label (nzCheckedChange)="selectAllBool?selectAllThread(true):selectAllThread(false)"
                                 *ngIf="col.fields=='check'"
                                 [nzChecked]="checkedAll"
                                 [nzIndeterminate]="indereterminate"
                                 nz-checkbox>
                          </label>
                        </th>
                      </ng-container>
                    </tr>
                    </thead>
                    <tbody style="font-size: 11px;">
                    <ng-container *ngFor="let data of fixedTable.data;let pureIndex=index">
                      <ng-container *ngFor="let dataTable1 of data.thread;let threadIndex=index">
                        <tr
                          *ngIf="haveTagSystem(dataTable1)"
                          [ngStyle]="{'background':setBackgroud(dataTable1.checked)}">
                          <td class="checkboxInput">

                            <label (nzCheckedChange)="changeBackgroundCheckBox($event,dataTable1)"
                                   [nzChecked]="dataTable1.checked"
                                   nz-checkbox
                                   style="margin-right: 12px;">
                            </label>
                          </td>
                          <td>
                            <ng-container *ngFor="let tag of dataTable1.userTags">
                              <span [ngStyle]="{background:getColorTag(tag)}" class="userTagStyle"></span>
                            </ng-container>
                          </td>
                          <td (click)="changeBackgroud($event,dataTable1)">{{ dataTable1.id }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)">{{ dataTable1.threadName }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.peril }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.regionPerilCode }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.regionPerilName }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.grain }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.vendorSystem }}</td>
                          <td (click)="changeBackgroud($event,dataTable1)" *ngIf="extended">{{ dataTable1.rap }}</td>
                          <td><i [class]="dataTable1.icon" style="font-size: 20px"></i></td>
                          <td><i class="icon-plus-circle" nz-dropdown style="font-size: 20px;color: #000;"></i>
                          </td>
                        </tr>
                      </ng-container>
                    </ng-container>

                    </tbody>
                  </nz-table>
                </div>
              </div>
              <div nz-row style="margin: 25px">
                <div nz-col nzSpan="10">
                  &nbsp;
                </div>
                <div nz-col nzSpan="7" style="color: #0700CF; font-size: 14px ;">
                  <button class="ant-btn ant-btn-default"
                          style="background-color: #ffffff !important; color: #0b2ccf;  margin-right: 20px; border: none;font-weight: 600; ">
                    Publish
                  </button>

                </div>
                <div nz-col nzSpan="7" style="color: #0700CF;  font-size: 14px">
                  <button class="ant-btn ant-btn-default"
                          style="background-color: #ffffff !important; color: #0b2ccf;  margin-right: 20px; border: none;font-weight: 600;">
                    Add PLTS
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div nz-col [nzSpan]="templateSpan">
            <div class="test"
                 style=" background: #fff; min-height:570px; min-width: 350px; box-shadow: 0px 1px 20px 0px #dcdada; margin-left: -4px">
              <div nz-row>
                <div class="card1" nz-col nzSpan="26">
                  <hr style="background:#0700CF ;    padding: 0; background: #0700CF; margin: 0; height: 5px;">
                </div>
              </div>
              <div nz-row style=" display: flex;">
                <div class="card1" nz-col nzSpan="5"
                     style="flex:auto;font-weight: 600;font-size: 20px;margin: 21px 2px 27px 7px; color: black;width: 130px;">
                  Template <i class="icon-plus-circle" nz-dropdown
                              style="font-size: 20px;color: #000;"></i>
                </div>
                <div class="card1" nz-col nzSpan="13" style="margin-top: 18px; margin-left: -8px;display: flex;overflow: auto; max-width: 100%;margin-top: 18px;
    margin-left: -8px;" >
                  <ng-container *ngFor="let adj of adjsArray;let adjIndex=index">
                    <div class="dashbordAdj">
                      <span style="height: 30px;margin: 0px 2px 0px 2px;">{{adj.name}}</span>
                      <nz-dropdown [nzPlacement]="'bottomLeft'">
                        <i class="icon-menu_24px" nz-dropdown style="font-size: 18px;float: right;"></i>
                        <ul nz-menu>
                          <li nz-menu-item>
                            <a (click)="applyToAll(adj)"
                            >Apply to All</a>
                          </li>
                          <li nz-menu-item>
                            <a (click)="addAdjustmenet(adj)">Apply to selected</a>
                          </li>
                          <li nz-menu-item>
                            <a (click)="applyToSelectedPlt(adj,adj.value)">Replace selected</a>
                          </li>
                          <li nz-menu-item>
                            <a (click)="applyToAllAdjustement(adj,adj.value)"
                            >Replace to All</a>
                          </li>
                        </ul>
                      </nz-dropdown>
                      <input (change)="onChangeAdjValue(adj,$event)" [disabled]="adj.linear" [value]="adj.value"
                             class="inputOfdachboard"
                             style="height: 17px;">
                    </div>
                  </ng-container>
                </div>
                <div class="card1" nz-col nzSpan="5" style="flex:auto;margin-left: -21px;">
                  <i class="icon-menu_24px"
                     style="font-size: 25px;float: right;margin-top:29px; margin-right: 10px;"></i>
               <!--   <i nz-icon nzTheme="outline" nzType="right"
                     style="font-size: 20px;float: right;margin-top:32px;margin-left: 6px;margin-right: 14px;"></i>
                  <i nz-icon nzTheme="outline" nzType="left"
                     style="font-size: 20px;float: right;margin-top:32px;margin-left: 6px;"></i>-->
                </div>
              </div>
              <div nz-row>
                <div class="card1" nz-col nzSpan="26">
                  <!-- Table de Template 1   -->
                  <div nz-row>
                    <div nz-col nzSpan="24">
                      <div #scrollOne (mouseover)="cursorOntable2()" nz-row
                           style="margin-top: 5px;overflow-y: auto;max-height: 415px;min-height:415px;width: 100%;">

                        <nz-table #rightTable #te [nzData]="pure.dataTable"
                                  [nzPaginationPosition]="false" class="fixedHeadder">
                          <thead class="header-text">
                          <tr style="height: 66px !important;">
                            <th  style="border-right: 1px solid rgb(232, 232, 232);width: 15%"><b style="margin-left:10px !important;">Ovrall LMF</b></th>
                            <ng-container *ngFor="let category of pure.category;trackBy: trackByFn">
                              <th *ngIf="category.showBol" [colSpan]="category.basis.length"
                                  [ngStyle]="{background:InuringBack(category.name) }"
                                  [style.width]="category.width"
                                  style="border-right: 1px solid rgb(232, 232, 232);"><b style="margin-left:10px !important;">{{category.name}}</b>
                                <!-- <i (click)="feedCatgegoryNameForHide(category.name)" [ngClass]="eyeVisible()"
                                    style="float: right;margin-top: 5px;"></i>-->
                              </th>
                            </ng-container>
                          </tr>
                          </thead>
                          <tbody style="overflow-x:auto;max-width: 825px; min-width: 825px;">
                          <ng-container *ngFor="let data of pure.dataTable;let pureIndex=index">
                            <tr *ngIf="tree" style="height: 50px !important;">
                              <td colspan="4" style="background: #fafafa"></td>
                            </tr>
                            <ng-container *ngFor="let dataTable1 of data.thread;let threadIndex=index">
                              <tr (click)="changeBackgroud($event,dataTable1)"
                                  *ngIf="haveTagSystem(dataTable1) "
                                  [ngStyle]="{'background':setBackgroud(dataTable1.checked)}">
                                <td style="background: rgb(250, 250, 250)">

                                </td>
                                <td (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                    dndDropzone
                                    dndEffectAllowed="move"
                                    id="bd">
                                  <div class="dndPlaceholder" dndPlaceholderRef></div>
                                  <div (dndDrop)="onDropDiv($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                       dndDropzone dndEffectAllowed="move"
                                       id="bd1" style="display: flex;height: max-content;margin-left: 10px">
                                    <div class="dndPlaceholder" dndPlaceholderRef></div>
                                    <ng-container *ngFor="let adj of dataTable1.adj;let adjindex=index">
                                      <div (dndCanceled)="onDragged($event,adj, dataTable1.adj, 'none','cancled')"
                                           (dndEnd)="onDragEnd($event)"
                                           (dndMoved)="onDragged($event,adj, dataTable1.adj, 'move','td1')"
                                           (dndStart)="onDragStart($event)" (mouseout)="hideIcon(adj)"
                                           (mouseover)="adj.hover='true'"
                                           *ngIf="adj.category=='bd'"
                                           [dndDisableIf]="dataTable1.locked"
                                           [dndDraggable]="adj"
                                           class="divInTd"
                                           dndEffectAllowed="move">
                                        <span class="spanStyle">{{adj.name}}</span>
                                        <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                          <i [hidden]="!adj.hover" class="icon-menu_24px"
                                             nz-dropdown style="font-size: 18px;float: right"></i>
                                          <ul nz-menu>
                                            <li nz-menu-item>
                                              <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                            </li>
                                            <li nz-menu-item>
                                              <a
                                                (click)="deleAdjustment(pureIndex,threadIndex,adjindex,adj)">Delete</a>
                                            </li>
                                            <li nz-menu-item>
                                              <a>Copy</a>
                                            </li>
                                          </ul>
                                        </nz-dropdown>
                                        <input [disabled]="adj.linear" [value]="adj.value" class="inputOfdachboard"
                                       (change)="changeValue(adj,$event)"  >
                                      </div>
                                    </ng-container>
                                  </div>
                                </td>
                                <td style="background: rgb(250, 250, 250)">
                                  <div style="display: flex;height: max-content">
                                    <div
                                      class="divInTd" style=" background: #f3f3f3;">
                                          <span
                                            class="spanStyle">Model Calib</span>
                                      <input class="inputOfdachboard" disabled
                                             style=" background: #f3f3f3;" value="2.1">
                                    </div>
                                  </div>
                                </td>
                                <td (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                    dndDropzone
                                    dndEffectAllowed="move"
                                    id="pd">
                                  <div class="dndPlaceholder" dndPlaceholderRef></div>
                                  <div (dndDrop)="onDropDiv($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                       dndDropzone
                                       dndEffectAllowed="move" id="pd1"
                                       style="display: flex;height: max-content;margin-left: 10px">
                                    <div class="dndPlaceholder" dndPlaceholderRef></div>
                                    <ng-container *ngFor="let adj of dataTable1.adj ;let adjindex=index">
                                      <ng-container *ngIf="adj.category=='pd'">
                                        <div (dndCanceled)="onDragged($event,adj, dataTable1.adj, 'none','cancled')"
                                             (dndMoved)="onDragged($event,adj,dataTable1.adj, 'move','td2')"
                                             (mouseout)="hideIcon(adj)"
                                             (mouseover)="adj.hover='true'"
                                             [dndDisableIf]="dataTable1.locked"
                                             [dndDraggable]="adj"
                                             class="divInTd"
                                             dndEffectAllowed="move"
                                        >
                                              <span
                                                class="spanStyle">{{adj.name}}</span>
                                          <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                            <i [hidden]="!adj.hover" class="icon-menu_24px"
                                               nz-dropdown style="font-size: 18px;float: right"></i>
                                            <ul nz-menu>
                                              <li nz-menu-item>
                                                <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a
                                                  (click)="deleAdjustment(pureIndex,threadIndex,adjindex,adj)">Delete</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a>Copy</a>
                                              </li>
                                            </ul>
                                          </nz-dropdown>
                                          <input [disabled]="adj.linear" [value]="adj.value"
                                                 class="inputOfdachboard" (change)="changeValue(adj,$event)"
                                          >
                                        </div>
                                      </ng-container>
                                    </ng-container>
                                  </div>
                                </td>
                                <td style="background: antiquewhite">
                                  <div style="display: flex;height: max-content">
                                    <div
                                      class="divInTd">
                                          <span
                                            class="spanStyle"></span>
                                      <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                        <i [id]="threadIndex" class="icon-menu_24px" nz-dropdown
                                           style="font-size: 18px;float: right"></i>
                                        <ul nz-menu>
                                          <li nz-menu-item>
                                            <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                          </li>
                                          <li nz-menu-item>
                                            <a
                                            >Delete</a>
                                          </li>
                                          <li nz-menu-item>
                                            <a>Copy</a>
                                          </li>
                                        </ul>
                                      </nz-dropdown>
                                      <input class="inputOfdachboard" disabled
                                             value="P00002">
                                    </div>
                                  </div>
                                </td>
                                <td (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                    dndDropzone
                                    dndEffectAllowed="move"
                                    id="poin">
                                  <div (dndDrop)="onDrop($event,dataTable1.adj)" [dndDisableIf]="dataTable1.locked"
                                       dndDropzone
                                       dndEffectAllowed="move" id="poin1"
                                       style="display: flex;height: max-content;margin-left: 10px">
                                    <div class="dndPlaceholder" dndPlaceholderRef id="dndPlaceholder"></div>
                                    <ng-container *ngFor="let adj of dataTable1.adj ;let adjindex=index">
                                      <ng-container *ngIf="adj.category=='poin'">
                                        <div (dndCanceled)="onDragged($event,adj, dataTable1.adj, 'none','cancled')"
                                             (dndMoved)="onDragged($event,adj,dataTable1.adj, 'move','td2')"
                                             (mouseout)="hideIcon(adj)"
                                             (mouseover)="adj.hover='true'"
                                             [dndDisableIf]="dataTable1.locked"
                                             [dndDraggable]="adj"
                                             class="divInTd"
                                             dndEffectAllowed="move"   >
                                              <span
                                                class="spanStyle">{{adj.name}}</span>
                                          <nz-dropdown [nzPlacement]="'bottomLeft'" class="dropD">
                                            <i [hidden]="!adj.hover" class="icon-menu_24px"
                                               nz-dropdown style="font-size: 18px;float: right"></i>
                                            <ul nz-menu>
                                              <li nz-menu-item>
                                                <a (click)="addAdjustmenet(adj)">Apply adjustement</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a
                                                  (click)="deleAdjustment(pureIndex,threadIndex,adjindex,adj)">Delete</a>
                                              </li>
                                              <li nz-menu-item>
                                                <a>Copy</a>
                                              </li>
                                            </ul>
                                          </nz-dropdown>
                                          <input [disabled]="adj.linear" [value]="adj.value"
                                                 class="inputOfdachboard" (change)="changeValue(adj,$event)"
                                          >
                                        </div>
                                      </ng-container>
                                    </ng-container>
                                  </div>
                                </td>
                              </tr>
                            </ng-container>
                          </ng-container>
                          </tbody>
                        </nz-table>
                      </div>
                    </div>
                  </div>
                  <!-- Button of Table de Template 1 -->
                  <div nz-row style="margin: 28px 12px 13px 26px;">
                    <div nz-col nzSpan="24">
                      <button class="ant-btn ant-btn-default"
                              style="background-color: #ffffff !important;color: #070acf;border-color:#070acf;margin-right: 20px; width: 100px;height: 30px; ">
                        Export
                      </button>
                      <button class="ant-btn ant-btn-default"
                              style="background-color: #ffffff !important;color: #0b2ccf;border-color:#070acf;margin-right: 20px;width: 100px;height: 30px; ">
                        Save As
                      </button>
                      <button class="ant-btn ant-btn-default" style="width: 100px;height: 30px; ">APPLY</button>
                    </div>
                    <!-- <div nz-col nzOffset="4" nzSpan="6">
                       <nz-select
                         (ngModelChange)="hideCatgegory(listOfSelectedValue)"
                         [(ngModel)]="listOfSelectedValue"
                         [nzMaxTagCount]="2"
                         nzMode="multiple"
                         nzPlaceHolder="Please select Category"
                         style="width: 260px;"
                       >
                         <nz-option *ngFor="let option of pure.category" [nzLabel]="option.name"
                                    [nzValue]="option.name"></nz-option>
                       </nz-select>
                       <ng-template #tagPlaceHolder let-selectedList> and {{ selectedList.length }} more selected
                       </ng-template>
                     </div>-->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div nz-row>
          <div nz-col nzSpan="24" style="margin-top: 25px;">
            <div style="padding:24px; background: #fff; min-height:130px; box-shadow: 0px 1px 20px 0px #dcdada; ">
              <div nz-col nzSpan="10" style="height: 10px">
                <hr style="height: 4px;background-color: #00c4aa;margin: -24px;width: 288px;">
              </div>
              <div nz-row style="margin-top: -35px;">
                <div class="textLastAdjustement" nz-col nzSpan="24" style="margin-top: 2px;">
                  Last Adjustment Matrix
                </div>
              </div>
              <div nz-row>
                <div nz-col nzSpan="24">
                  <div class="AdjustementTextGray" style="padding:24px; background: #f0f2f5; min-height:60px;">
                    <div nz-col nzSpan="4">
                      <b>Apply Adjustment Matrix</b>
                    </div>
                    <div nz-col nzSpan="7">
                      <i class="icon-event_note_24px"></i>Started:<b>Mon Feb 04 16:19:39 UTC 2019</b>
                    </div>
                    <div nz-col nzSpan="7">
                      <i class="icon-event_note_24px"></i>Ended:<b>Mon Feb 04 16:20:00 UTC 2019</b>
                    </div>
                    <div nz-col nzSpan="6"
                         style="color: #00C4AA;white-space: nowrap;overflow: hidden;text-overflow: ellipsis">
                      Adjustment Matrix Completed succesfly
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--<nz-tab nzTitle="Adjustment Canvas">
          <div
            style="padding:50px; background: #fff; min-height:700px;margin-top: 25px; margin-right: 15px; box-shadow: 0px 1px 20px 0px #dcdada;">
            <hr style="height: 4px;background-color: #0700CF;margin: -24px;margin: -50px; width: 20%;">
            <div nz-col nzSpan="17" style="margin-left:-40px;">
              <div nz-row>
                <div nz-col nzSpan="6">&nbsp;</div>
              </div>
              <div nz-row>
                <div class="textLastAdjustement" nz-col nzSpan="6">Canvas</div>
              </div>
              <div nz-row>
                <div nz-col nzSpan="12" style="font-weight: 300">NATC-USM_RL_lmf.T1</div>
              </div>
              <div nz-row>
                <div class="AdjustmentCanvas" nz-col nzSpan="18">
                  <nz-tabset>
                    <nz-tab nzTitle="PLT Overview">
                    </nz-tab>
                    <nz-tab nzTitle="Adjustment">

                    </nz-tab>
                  </nz-tabset>
                </div>
              </div>
            </div>
            <div nz-col nzSpan="7" style="margin-left:-40px;">
              <div nz-row>
                <div nz-col nzSpan="24">
                  <div
                    style="padding: 5px;
                  width: 370px;
                  background: #f0f2f59e;
                  min-height: 600px;
                  margin-top: 25px;
                  margin-right: 15px;
                  box-shadow: 0px 0px 2px 0px #dcdada; ">
                    <div nz-row>
                      <div nz-col nzSpan="6">&nbsp;</div>
                    </div>
                    <div nz-row>
                      <div nz-col nzSpan="6" style="font-weight: 900; margin: 10px;">Adjustment
                      </div>
                    </div>
                    <div nz-row>
                      <div nz-col nzSpan="6" style="height: 420px ">&nbsp;</div>
                    </div>
                    <div nz-row>
                      <div nz-col nzSpan="6">&nbsp;</div>
                    </div>
                    <div nz-row>
                      <div nz-col nzSpan="6">&nbsp;</div>
                    </div>
                    <div nz-row>
                      <div nz-col nzSpan="2">&nbsp;</div>
                      <div nz-col nzSpan="6">
                        <button class="ant-btn ant-btn-default"
                                style="background-color: #070acf !important;color: #ffffff;border-color:#070acf;margin-right: 20px;border-radius: 17px">
                          Actions
                        </button>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </nz-tab>-->
      </div>
      <div nz-col nzSpan="1">
        <div class="right-column">
          <div class="navigation-icons pt-5" style="min-height: 100px">
            <i class="icon-map-pin-alt" id="alt"></i>
            <i (click)="open()" class="icon-arrow_back_ios_24px mt-2"></i>
          </div>
        </div>
      </div>
    </div>
  </nz-layout>
  <nz-layout class="calibration-Tab" style="width: 1000px;height: 100%">
    <nz-content style="margin:0 16px;">
      <nz-breadcrumb style="margin:16px 0;">

      </nz-breadcrumb>
    </nz-content>
  </nz-layout>
  <nz-drawer
    (nzOnClose)="close()"
    [nzClosable]="false"
    [nzHeight]=1000
    [nzVisible]="visible"
    [nzWidth]=650
    [nzZIndex]=1100
    nzPlacement="right"
  >

    <div>
      <div class="navigation-icons-drawer" style="display: flex;
flex-direction: column;
justify-content: space-between;
align-items: flex-end;">
        <i (click)="close()" class="icon-arrow_forward_ios_24px mt-2" style="padding: 5px;
border-radius: 25px;
border: 2px solid #F5F5F5;
color: #9C99EC;
font-size: 24px;
cursor: pointer;"></i>
      </div>
      <nz-tabset class="tabset-drawer">
        <nz-tab nzTitle="Basket">
          <div class="basket-content"></div>
        </nz-tab>
        <nz-tab nzTitle="Calibration Detaills">
          <div class="plt-details-content">
            <nz-tabset class="tabset-plt-details">
              <nz-tab nzTitle="Summary">
                <div class="summary-content"></div>
              </nz-tab>
              <nz-tab nzTitle="EP Metrics">
                <div class="ep-metrics-content"></div>
              </nz-tab>
              <nz-tab nzTitle="Other Metrics">
                <div class="other-metrics-content"></div>
              </nz-tab>
              <nz-tab nzTitle="Calibration">
                <div class="calibration-content">
                  <nz-tabset>
                    <nz-tab nzTitle="Thread">
                      <div class="thread-content"></div>
                    </nz-tab>
                    <nz-tab nzTitle="Impact">
                      <div class="impact-content"></div>
                    </nz-tab>
                  </nz-tabset>
                </div>
              </nz-tab>
              <nz-tab nzTitle="Lineage">
                <div class="lineage-content">
                  <nz-tab>
                    <nz-tab nzTitle="Dependencies">
                      <div class="dependencies-content"></div>
                    </nz-tab>
                    <nz-tab nzTitle="Usage">
                      <div class="usage-content"></div>
                    </nz-tab>
                  </nz-tab>
                </div>
              </nz-tab>
              <nz-tab nzTitle="Impact to layer">
                <div class="impact-to-layer-content"></div>
              </nz-tab>
            </nz-tabset>
          </div>
        </nz-tab>

      </nz-tabset>
    </div>
  </nz-drawer>
  <!-- Model add Column-->
  <nz-modal [(nzVisible)]="isVisible" [nzFooter]="modalFooter" class="modelAdjustment" nzClosable="false"
            nzTitle="Add Adjustment Basic">
    <div nz-row>
      <div nz-col nzSpan="24">
        &nbsp;
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="5">
        &nbsp;
      </div>
      <div nz-col nzSpan="19">
        <nz-select (ngModelChange)="selectBasis(singleValue)" [(ngModel)]="singleValue"
                   [nzPlaceHolder]="'Choose a basis'"
                   [nzSize]="size" style="width: 260px;">
          <nz-option *ngFor="let option of basises" [nzLabel]="option.name" [nzValue]="option.name"></nz-option>
        </nz-select>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="5">
        &nbsp;
      </div>
      <div nz-col nzSpan="19">
        <nz-select (ngModelChange)="selectCategory(categorySelectedFromBasis)" [ngModel]="categorySelectedFromBasis"
                   [nzPlaceHolder]="'Choose a category'"
                   [nzSize]="size" style="width: 260px;">
          <ng-container *ngFor="let option of pure.category">
            <nz-option *ngIf="option.name!='Default'" [nzLabel]="option.name"
                       [nzValue]="option.name"></nz-option>
          </ng-container>
        </nz-select>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="5" style="margin: 5px;">
        &nbsp;
      </div>
      <div nz nzSpan="19">
        Sequence :
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="5" style="margin: 5px;">
        &nbsp;
      </div>
      <div nz nzSpan="19">
        <input
          #inputElement
          [(ngModel)]="columnPosition"
          nz-input
          nz-tooltip
          style="width: 60px;
        height: 40px;
        background: #f9f9f9;
        border-radius: 0;
        border:0;
        border-bottom: 1px solid black;
        color:#0700CF"
        />
      </div>
    </div>
    <div nz-row style="margin-top: 20px;">
      <div nz-col nzSpan="5" style="margin: 5px;">
        &nbsp;
      </div>
      <div nz nzSpan="19">
        Capped:
        <nz-switch [(ngModel)]="disabled" nzSize="small" style="margin-left: 15px;"></nz-switch>
      </div>
    </div>
    <ng-template #modalFooter>
      <button (click)="handleCancel()"
              class="ant-btn"
              style="color: rgba(82,89,95,0.68); margin-right: 20px; border: none; width: 100px;height: 30px; "> CANCEL
      </button>
      <button (click)="addColumnToTable(singleValue,categorySelectedFromBasis)"
              class="ant-btn ant-btn-default"
              style="background-color: #ffffff !important; color: #0b2ccf;border-color:#070acf;margin-right: 20px;width: 70px;height: 30px; ">
        ADD
      </button>
      <button (click)="addColumnToTableAndClose(singleValue,categorySelectedFromBasis)"
              class="ant-btn ant-btn-default"
              style="width: 130px; height: 30px; ">ADD & CLOSE
      </button>
    </ng-template>
  </nz-modal>
</div>

